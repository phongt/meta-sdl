From 3b0ed3d3973fabd1f9596e576169d6cf06671ca4 Mon Sep 17 00:00:00 2001
From: Jordan Salm <jordans@validmanufacturing.com>
Date: Fri, 24 Jan 2020 09:52:44 -0800
Subject: [PATCH 10/10] add env for log4cxx properties path

Add the env variable SDL_LOG4CXX_PROPERTIES_FILE
to indicate the path of log4cxx configure file.
---
 src/appMain/main.cc | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/src/appMain/main.cc b/src/appMain/main.cc
index cb59f63b1d..e33aa39956 100644
--- a/src/appMain/main.cc
+++ b/src/appMain/main.cc
@@ -133,7 +133,13 @@ int32_t main(int32_t argc, char** argv) {
 
   // --------------------------------------------------------------------------
   // Logger initialization
-  INIT_LOGGER("log4cxx.properties", profile_instance.logs_enabled());
+  const char* log4cxx_path = getenv("SDL_LOG4CXX_PROPERTIES_FILE");
+  if (!log4cxx_path) {
+    INIT_LOGGER("log4cxx.properties", profile_instance.logs_enabled());
+  } else {
+    std::string log4cxx_properties = std::string(log4cxx_path);
+    INIT_LOGGER(log4cxx_properties, profile_instance.logs_enabled());
+  }
 
   threads::Thread::SetNameForId(threads::Thread::CurrentId(), "MainThread");
 
-- 
2.24.1

